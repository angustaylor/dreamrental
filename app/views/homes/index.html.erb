<p id="notice"><%= notice %></p>

<h1>Homes</h1>

<table>
  <thead>
    <tr>
      <th>Address</th>
      <th>Region</th>
      <th>Country</th>
      <th>Postcode</th>
      <th>Bedrooms</th>
      <th>Bathrooms</th>
      <th>Swimming pool</th>
      <th>Description</th>
      <th>User</th>
      <th>Type</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @homes.each do |home| %>
      <tr>
        <td><%= home.address %></td>
        <td><%= home.region %></td>
        <td><%= home.country %></td>
        <td><%= home.postcode %></td>
        <td><%= home.bedrooms %></td>
        <td><%= home.bathrooms %></td>
        <td><%= home.swimming_pool %></td>
        <td><%= home.description %></td>
        <td><%= home.user_id %></td>
        <td><%= home.type %></td>
        <td><%= link_to 'Show', home %></td>
        <td>
          <% if home.user == current_user || current_user.present? && current_user.admin? %>
            <%= link_to 'Edit', edit_home_path(home) %>
          <% end %>
        </td>
        <td>
          <% if home.user == current_user || current_user.present? && current_user.admin? %>
            <%= link_to 'Destroy', home, method: :delete, data: { confirm: 'Are you sure?' } %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if policy(Home).create? %>
  <%= link_to "New home", new_home_path %>
<% end %>
